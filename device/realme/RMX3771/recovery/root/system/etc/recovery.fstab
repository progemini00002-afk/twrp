# Copyright (c) 2024 The Android Open Source Project
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Android fstab file.
# The filesystem that contains the filesystem checker binary (typically /system) cannot
# specify MF_CHECK, and must come before any filesystems that do specify MF_CHECK

# mount point  fstype  device                 device2                        flags
/boot          emmc    /dev/block/by-name/boot                               flags=display="Boot";backup=1;flashimg=1
/dtbo          emmc    /dev/block/by-name/dtbo                               flags=display="DTBO";backup=1;flashimg=1
/cache         ext4    /dev/block/by-name/cache                              flags=display="Cache"
/recovery      emmc    /dev/block/by-name/recovery                           flags=display="Recovery";backup=1;flashimg=1
/data          f2fs    /dev/block/by-name/userdata                           flags=display="Data";fileencryption=aes-256-xts:aes-256-cts:v2+inlinecrypt_optimized+wrappedkey_v0,keydirectory=/metadata/vold/metadata_encryption,metadata_encryption=aes-256-xts:wrappedkey_v0
/metadata      ext4    /dev/block/by-name/metadata                           flags=display="Metadata";backup=1

# Dynamic Partitions
/system_root   ext4    /dev/block/mapper/system                              flags=display="System";logical
/system_ext    ext4    /dev/block/mapper/system_ext                          flags=display="System_ext";logical
/vendor        ext4    /dev/block/mapper/vendor                              flags=display="Vendor";logical
/product       ext4    /dev/block/mapper/product                             flags=display="Product";logical
/odm           ext4    /dev/block/mapper/odm                                 flags=display="ODM";logical

# Persistent Partitions
/persist       ext4    /dev/block/by-name/persist                            flags=display="Persist";backup=1
/persist_image emmc    /dev/block/by-name/persist                            flags=display="Persist";backup=1;flashimg=1

# Firmware Partitions
/vbmeta        emmc    /dev/block/by-name/vbmeta                             flags=display="VBMeta";backup=1;flashimg=1
/vbmeta_system emmc    /dev/block/by-name/vbmeta_system                      flags=display="VBMeta_System";backup=1;flashimg=1
/vbmeta_vendor emmc    /dev/block/by-name/vbmeta_vendor                      flags=display="VBMeta_Vendor";backup=1;flashimg=1

# Modem Partitions
/md1img        emmc    /dev/block/by-name/md1img                             flags=display="Modem";backup=1;flashimg=1
/md1dsp        emmc    /dev/block/by-name/md1dsp                             flags=display="Modem DSP";backup=1;flashimg=1

# SIM Partitions
/nvdata        ext4    /dev/block/by-name/nvdata                             flags=display="NVData";backup=1
/nvcfg         ext4    /dev/block/by-name/nvcfg                              flags=display="NVConfig";backup=1
/nvram         emmc    /dev/block/by-name/nvram                              flags=display="NVRam";backup=1;flashimg=1

# Removable storage
/sdcard1       vfat    /dev/block/mmcblk1p1    /dev/block/mmcblk1            flags=display="MicroSD";storage;wipeingui;removable
/usb_otg       vfat    /dev/block/sda1         /dev/block/sda                flags=display="USB-OTG";storage;wipeingui;removable
